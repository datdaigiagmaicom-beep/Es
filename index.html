<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Emoji Rain + RTL Type</title>
  <style>
    :root{
      --bg1:#0b0b12;
      --bg2:#141428;
      --text:#ffffff;
    }

    html, body {
      height: 100%;
      margin: 0;
    }

    body{
      overflow: hidden;
      background: radial-gradient(1200px 600px at 50% 30%, var(--bg2), var(--bg1));
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);
    }

    /* Emoji rain layer */
    #rain {
      position: fixed;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
    }

    .drop{
      position: absolute;
      top: -10vh;
      left: 0;
      will-change: transform, opacity;
      opacity: 0.95;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.35));
      animation:
        fall var(--fallDur) linear infinite,
        sway var(--swayDur) ease-in-out infinite;
      animation-delay: var(--delay);
      font-size: var(--size);
    }

    @keyframes fall {
      0%   { transform: translate3d(var(--x), -12vh, 0); opacity: 0; }
      10%  { opacity: 1; }
      100% { transform: translate3d(var(--xEnd), 112vh, 0); opacity: 0.95; }
    }

    @keyframes sway {
      0%,100% { margin-left: calc(var(--drift) * -1); }
      50%     { margin-left: var(--drift); }
    }

    /* Center content */
    #center {
      position: fixed;
      inset: 0;
      display: grid;
      place-items: center;
      padding: 24px;
      text-align: center;
    }

    #countdown{
      font-size: clamp(56px, 10vw, 120px);
      font-weight: 800;
      letter-spacing: 2px;
      opacity: 0;
      transform: translateY(6px);
      transition: opacity .25s ease, transform .25s ease;
      text-shadow: 0 14px 30px rgba(0,0,0,.45);
    }

    #countdown.show{
      opacity: 1;
      transform: translateY(0);
    }

    #messageWrap{
      margin-top: 10px;
      max-width: 900px;
      width: min(900px, 92vw);
    }

    /* RTL typing area */
    #message{
      direction: rtl;
      text-align: right;
      unicode-bidi: plaintext;

      font-size: clamp(20px, 3.4vw, 40px);
      line-height: 1.35;
      font-weight: 700;
      padding: 14px 18px;
      border-radius: 16px;
      background: rgba(255,255,255,.07);
      border: 1px solid rgba(255,255,255,.14);
      backdrop-filter: blur(6px);
      box-shadow: 0 18px 60px rgba(0,0,0,.35);
      min-height: 1.9em;
      word-break: break-word;
    }

    .caret::after{
      content: "‚ñç";
      display: inline-block;
      margin-inline-start: 6px;
      opacity: 1;
      animation: blink 0.9s steps(1) infinite;
    }

    @keyframes blink { 50% { opacity: 0; } }

    /* Respect reduced-motion */
    @media (prefers-reduced-motion: reduce){
      .drop{ animation: none; }
      #countdown{ transition: none; }
      .caret::after{ animation: none; }
    }
  </style>
</head>
<body>
  <div id="rain" aria-hidden="true"></div>

  <div id="center">
    <div>
      <div id="countdown"></div>
      <div id="messageWrap">
        <div id="message" class="caret"></div>
      </div>
    </div>
  </div>

  <script>
    // ------- Emoji rain -------
    const rainEl = document.getElementById("rain");
    const EMOJIS = ["‚ù§Ô∏è","üí™","üå∏","üå∫","üåπ","üíê","üíï","üíñ"];

    function rand(min, max){ return Math.random() * (max - min) + min; }
    function pick(arr){ return arr[Math.floor(Math.random() * arr.length)]; }

    function setDropVars(drop){
      const x = rand(0, window.innerWidth);
      const xEnd = x + rand(-120, 120);
      drop.style.setProperty("--x", `${x}px`);
      drop.style.setProperty("--xEnd", `${xEnd}px`);
      drop.style.setProperty("--size", `${rand(18, 44)}px`);
      drop.style.setProperty("--fallDur", `${rand(5.5, 11.5)}s`);
      drop.style.setProperty("--swayDur", `${rand(2.8, 5.2)}s`);
      drop.style.setProperty("--drift", `${rand(6, 26)}px`);
      drop.style.setProperty("--delay", `${-rand(0, 10)}s`); // start mid-animation
      drop.textContent = pick(EMOJIS);
    }

    const DROP_COUNT = 44;

    for(let i=0; i<DROP_COUNT; i++){
      const drop = document.createElement("span");
      drop.className = "drop";
      setDropVars(drop);

      // Refresh each time the fall animation loops
      drop.addEventListener("animationiteration", (e) => {
        if (e.animationName === "fall") setDropVars(drop);
      });

      rainEl.appendChild(drop);
    }

    window.addEventListener("resize", () => {
      // Re-roll positions on resize
      document.querySelectorAll(".drop").forEach(setDropVars);
    });

    // ------- Countdown 1..3 then RTL typing -------
    const countdownEl = document.getElementById("countdown");
    const messageEl = document.getElementById("message");

    const finalText = "Good luck Esad you can do your course";

    function showNumber(n){
      countdownEl.textContent = n;
      countdownEl.classList.add("show");
      setTimeout(() => countdownEl.classList.remove("show"), 650);
    }

    function runCountdown(){
      let n = 1;
      showNumber(n);

      const t1 = setInterval(() => {
        n++;
        if (n <= 3) showNumber(n);
        if (n === 3){
          clearInterval(t1);
          setTimeout(() => {
            countdownEl.textContent = "";
            typeRTL(finalText, 65);
          }, 900);
        }
      }, 900);
    }

    function typeRTL(text, speedMs){
      messageEl.textContent = "";
      messageEl.classList.add("caret");

      let i = 0;
      const timer = setInterval(() => {
        messageEl.textContent += text[i];
        i++;
        if (i >= text.length){
          clearInterval(timer);
          // keep caret a little, then remove
          setTimeout(() => messageEl.classList.remove("caret"), 900);
        }
      }, speedMs);
    }

    // Start
    runCountdown();
  </script>
</body>
</html>
